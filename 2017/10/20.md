## C++拷贝控制

#### 拷贝构造函数
* 第一个参数必须是一个引用类型
    * 不是引用类型会陷入死循环
        * 调用**拷贝构造函数**需要参数，如果形参不是引用类型，那么需要将实参拷贝给形参，而拷贝又需要调用**拷贝构造函数**...
* 通常不应该是explicit的
* 直接初始化
    * 实际上是编译器使用**函数匹配**来选择与提供的参数最匹配的**构造函数**
* 拷贝初始化
    * 实际上是编译器将**右侧运算符对象**拷贝到**正在创建的对象**中，如果需要的话还要进行类型转换，通常使用**拷贝构造函数**完成

#### 析构函数
* 构造函数：初始化对象的非static数据成员，还可能做一些其它工作
* 析构函数：释放对象使用的资源，并销毁对象的非static数据成员
    * 首先执行函数体，然后销毁成员，成员按初始化顺序的**逆序**销毁
    * 成员销毁是**隐式**的，销毁过程依赖于成员的类型
        * 销毁类类型的成员，执行销毁类的析构
        * 内置类型没有析构，不需要任何操作

#### 拷贝赋值运算符
* 通过重载`=`实现
* 赋值运算符通常应该返回左侧运算对象的引用
* 通常结合了**拷贝构造函数**和**析构函数**的操作
    * 类似析构函数：**赋值操作**会**销毁**左侧运算对象的资源
    * 类似拷贝构造函数：**赋值操作**会从右侧向左侧**拷贝**数据

#### =default/=delete
* 当**未显式定义**拷贝构造函数/拷贝赋值运算符/析构函数时，编译器会合成**默认版本**
* 可以使用`=default`显式地要求编译器生成**默认版本**
* 阻止编译器生成默认版本
    * 使用`=delete`实现
    * 如果一个类有数据成员不能默认构造、拷贝、复制或销毁，则对应的成员函数将被定义为`=delete`版本
