## Unicode 和 UTF-8

#### ASCII

* ASCII是计算机创造之初的编码规范
* 由一个字节（8bit或者说8位）组成
    * 比如`0100 0001`这个二进制（也就是十六进制的`41`）表示的字节就是字符`A`
* 由于是8bit表示一个字符，所以一共可以表示2^8个（也就是256个）字符
    * 但是编码到前127个字符后，基本常用的字符（数字、英文字母、换行或者其他特殊字符等）都有了，所以后面空下的字符就没有进行编码

#### GB2312/GBK

* 中国的汉字在ASCII表中并没有进行编码，所以对ASCII编码表后面的空位进行了编码
* 由于汉字太多，在GB2312编码中，没有像ASCII一样一字节（8bit）对应一个字符，而是两字节（16bit）对应一个字符。通过两个字节组成一个的字符，由于排列组合的存在，所以能表示的字符就比较多了，GB2312是对ASCII的扩展
* GBK是对GB2312的扩展
* GB18030是对GBK的扩展

#### Unicode

* 由于很多国家都对ASCII后面的空位进行了扩展，但是各个国家都不相同，所以产生了Unicode编码
* Unicode直接由两个字节（16bit）表示一个字符
    * 比如`0000 0000 0100 0001`这个二进制（也就是十六进制的`0041`）表示的字节就是`A`
* 由于是16bit表示一个字符，所以一共可以表示2^16个（也就是65536）字符，感觉不多，但这个是UCS-2版本，实际应用的版本已经包括超过10W个字符了
* 缺点很明显，英文字符原本用ASCII就8bit，现在16bit，空间多出了一倍

#### UTF-8

* UTF-8是基于Unicode编码表的一种编码规则
* 编码长度不像Unicode的固定16bit一样，而是变长的，规则是8bit为一个编码单位
* 具体规则为
``` c
U+ 0000 ~ U+ 007F: 0XXXXXXX
U+ 0080 ~ U+ 07FF: 110XXXXX 10XXXXXX
U+ 0800 ~ U+ FFFF: 1110XXXX 10XXXXXX 10XXXXXX
U+10000 ~ U+1FFFF: 11110XXX 10XXXXXX 10XXXXXX 10XXXXXX
```
* 比如字符`A`，Unicode编码为`0000 0000 0100 0001`，十六进制为`0041`，进行utf-8编码，属于utf-8编码规则的第一行，编码后为`0100 0001`，因此节省了长度
* 但对于一些汉字由于Unicode编码的问题，导致有些汉字是占24bit（三个字节），甚至32bit，所以至今GBK还没死
* Unicode只是一种编码规则，而UTF-8是一种Unicode的实现方式