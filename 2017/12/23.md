## Computer Networking A top-down approach
* part 1


* 端系统通过**通信链路**和**分组交换机**连接到一起
* 分组交换机分类
    * **路由器**
    * **链路层交换机**
* 端系统通过**ISP**接入因特网
    * 每个ISP是一个由多个分组交换机和多段通信链路组成的网络
    * ISP也必须互联

#### 物理媒体
* 双铜绞线
* 同轴电缆
* 光纤
* 陆地无限电信道
* 卫星无限电信道


#### 分组交换
* 将端系统之间交换的报文划分更小的**数据块**，称为分组
* 源和目的之间，每个分组都通过通信链路和**分组交换机**
* N条速率均为R的链路的端到端时延(N-1台路由器)(传输时延)
    * d = N * L / R
* 排队时延
    * 分组交换机对与其相连的每个链路都有输出缓存（输出队列）
    * 如果当前链路**正忙**于传输**其他分组**，则**到达的分组**必须在缓存中等待，为**排队时延**
    * 缓存空间大小有限，缓存满后到达的分组将出现**丢包**
* 转发表
    * 每台路由器具有一个转发表，将目的地址映射成为输出链路

#### 电路交换
* 在端系统通信期间，预留端系统间通信所需资源（缓存。链路传输速率）
    * 分组交换不会预留资源
* **与分组交换对比**
    * 分组交换不适合实时任务
        * 因为端到端的时延是不可预测和可变的
    * 分组交换提供了更好的带宽共享
        * 电路交换不考虑需求，而预先分配传输电路的使用，有些已分配而不需要的链路未被有效利用
        * 分组交换按需分配链路使用

#### 分组交换中的时延
1. 结点处理时延(nodal processing delay)
    * 检查分组首部，决定将该分组到向何处所需要的时间
2. 排队时延(queuing delay)
    * 正在排队等待向目的链路传输的分组数量的多少决定排队时延
3. 传输时延(transmission delay)
    * 仅当所有已经到达的分组被传输后，才能传输刚到达的分组
4. 传播时延(propagation delay)
    * 一旦一个bit被推向链路，由该链路起点到终点传播所需的时间
* 总时延 `d_nodal = d_proc + d_queue + d_trans + d_prop`
* **传输时间和传播时间对比**
    * 传输时间
        * 路由器将此分组“推出至链路”所需要的时间
        * 由分组长度和链路传输速率决定
    * 传播时间
        * 一个比特从一台路由器向另一台路由器传播所需的时间
        * 由两台路由器之间距离决定

#### 吞吐量
* 吞吐量取决于数据流过的链的传输速率
    * 近似为源到目的路径间最小的传输速率

#### 协议栈
* **五层因特网协议栈**
    * 应用层
        * HTTP, FTP, DNS, SMTP...
    * 运输层
        * TCP, UDP
    * 网络层
        * IP, ICMP...
    * 链路层
        * ARP, PPP...
    * 物理层
        * ISO2110...
* 七层的OSI参考模型
    * 应用层
    * 表示层
    * 会话层
    * 运输层
    * 物理层
    * 链路层
    * 物理层